I" <h1 id="rosbagì´ë€">rosbagì´ë€?</h1>
<p>ROSì—ì„œ ì‹¤í–‰ë˜ê³  ìˆëŠ” í† í”½ì„ ë…¹í™”í•˜ëŠ” ëª…ë ¹ì–´ì…ë‹ˆë‹¤. ë…¹í™”ëœ íŒŒì¼ì€ ë‚˜ì¤‘ì— ê°™ì€ í™˜ê²½ì„ ì¡°ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ê¼¬ë¶€ê¸°ì™€ ë¼ì´ë‹¤ë¥¼ ì´ìš©í•œ ë§µí•‘ì„ í•˜ë ¤ í• ë•Œ, ìš°ì„  ê¼¬ë¶€ê¸°ì™€ ë¼ì´ë‹¤ ë…¸ë“œë§Œ ì¼œë†“ê³  rosbagìœ¼ë¡œ í¼ë¸”ë¦¬ì‹œë˜ëŠ” í† í”½ ë‚´ìš©ì„ ë…¹í™”í•©ë‹ˆë‹¤. ê·¸ í›„ ë…¹í™”ëœ íŒŒì¼ì„ ì¬ìƒí•˜ê³  ë§µí•‘ ë…¸ë“œë¥¼ ì¼œë©´ ë…¹í™”ëœ í† í”½ìœ¼ë¡œ ë§µì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<h1 id="ros2-bag-prerequisites">ros2 bag Prerequisites</h1>
<p>ros2 bagì´ ì„¤ì¹˜ë˜ì§€ ì•Šì•˜ë‹¤ë©´ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ ì„¤ì¹˜í•©ë‹ˆë‹¤.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo apt-get install ros-dashing-ros2bag ros-dashing-rosbag2-converter-default-plugins ros-dashing-rosbag2-storage-default-plugins
</code></pre></div></div>
<p>ì„¤ì¹˜í•œ í›„ì— bag íŒŒì¼ì„ ì €ì¥í•  í´ë”ë¥¼ ë§Œë“­ë‹ˆë‹¤.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ mkdir bag_files
$ cd bag_files
</code></pre></div></div>
<p><code class="language-plaintext highlighter-rouge">ros2 bag</code> ì‹¤ìŠµì„ ìœ„í•´ì„œ í„°í‹€ì‹¬ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ros2 run turtlesim turtlesim_node
$ ros2 run turtlesim turtle_teleop_key
</code></pre></div></div>

<h1 id="ros2ì—ì„œì˜-bag">ROS2ì—ì„œì˜ bag</h1>
<p>ê¸°ë³¸ì ìœ¼ë¡œ ROS1ì—ì„œì˜ <code class="language-plaintext highlighter-rouge">rosbag</code> ê³¼ ì‚¬ìš©ë²•ì´ ë¹„ìŠ·í•©ë‹ˆë‹¤. ì§€ê¸ˆê¹Œì§€ë„ ê·¸ë˜ì™”ë“¯ <code class="language-plaintext highlighter-rouge">rosbag</code>ì„ <code class="language-plaintext highlighter-rouge">ros2 bag</code>ìœ¼ë¡œ ê³ ì¹˜ë©´ ë©ë‹ˆë‹¤.</p>

<h2 id="ros2-bag-record">ros2 bag record</h2>
<p>record ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì€ 3ê°€ì§€ ì •ë„ê°€ ìˆìŠµë‹ˆë‹¤.</p>
<ol>
  <li>í•˜ë‚˜ë§Œ</li>
  <li>ì—¬ëŸ¬ê°œ</li>
  <li>ëª¨ë‘</li>
</ol>

<h3 id="1-í•˜ë‚˜ë§Œ">1. í•˜ë‚˜ë§Œ</h3>
<p>ë¨¼ì € í•˜ë‚˜ë§Œ record í•˜ëŠ” ëª…ë ¹ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤. ì§€ì •ëœ í† í”½ í•˜ë‚˜ë§Œ ë…¹í™”í•©ë‹ˆë‹¤.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 bag record &lt;í† í”½ ì´ë¦„&gt;
</code></pre></div></div>
<p>í„°í‹€ì‹¬ ì˜ˆì‹œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ros2 bag record /turtle1/cmd_vel
[INFO] [rosbag2_storage]: Opened database 'rosbag2_2019_10_11-05_18_45'.
[INFO] [rosbag2_transport]: Listening for topics...
[INFO] [rosbag2_transport]: Subscribed to topic '/turtle1/cmd_vel'
[INFO] [rosbag2_transport]: All requested topics are subscribed. Stopping discovery...
</code></pre></div></div>
<p>ì§€ì •ëœ <code class="language-plaintext highlighter-rouge">/turtle1/cmd_vel</code> í† í”½ë§Œ ë…¹í™”í•©ë‹ˆë‹¤.</p>

<h3 id="2-ì—¬ëŸ¬ê°œ">2. ì—¬ëŸ¬ê°œ</h3>
<p>ì‚¬ì‹¤ ì—¬ëŸ¬ê°œ ë…¹í™”ë„ ë§ˆì°¬ê°€ì§€ì…ë‹ˆë‹¤. ë’¤ì— ë…¹í™”í•˜ê³  ì‹¶ì€ í† í”½ì„ ë” ì ì–´ì£¼ë©´ ë©ë‹ˆë‹¤.<br />
ì˜ˆì‹œë¥¼ ë“¤ì–´ë³´ê² ìŠµë‹ˆë‹¤.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ros2 bag record -o subset /turtle1/cmd_vel /turtle1/pose
[INFO] [rosbag2_storage]: Opened database 'subset'.
[INFO] [rosbag2_transport]: Listening for topics...
[INFO] [rosbag2_transport]: Subscribed to topic '/turtle1/cmd_vel'
[INFO] [rosbag2_transport]: Subscribed to topic '/turtle1/pose'
[INFO] [rosbag2_transport]: All requested topics are subscribed. Stopping discovery...
</code></pre></div></div>
<p>ì—¬ê¸°ì„œ <code class="language-plaintext highlighter-rouge">-o</code> ëª…ë ¹ì–´ëŠ” bag íŒŒì¼ì— ì»¤ìŠ¤í…€ ë„¤ì„ì„ ì£¼ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ bagíŒŒì¼ì€ <code class="language-plaintext highlighter-rouge">ë…„-ì›”-ì¼-ì‹œ-ë¶„-ì´ˆ.bag</code>ì˜ ì´ë¦„ìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤. í•˜ì§€ë§Œ <code class="language-plaintext highlighter-rouge">-o &lt;ë‚˜ë§Œì˜ ì´ë¦„&gt;</code> ëª…ë ¹ì–´ë¥¼ ì¶”ê°€í•˜ì—¬ í•„ìš”í•œ ì´ë¦„ìœ¼ë¡œ ì €ì¥í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìœ„ì˜ ëª…ë ¹ì–´ëŠ” <code class="language-plaintext highlighter-rouge">subset.bag</code> ì´ë¼ëŠ” íŒŒì¼ëª…ìœ¼ë¡œ ì €ì¥ë  ê²ƒì…ë‹ˆë‹¤.</p>

<h3 id="3-ëª¨ë‘">3. ëª¨ë‘</h3>
<p>í˜„ì¬ ì‹¤í–‰ë˜ê³  ìˆëŠ” ëª¨ë“  í† í”½ì„ ë…¹í™”í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ ì´ ëª…ë ¹ì–´ëŠ” circular dependencyì˜ ë°œìƒì´ë‚˜ ì‹œìŠ¤í…œì— ë¬¸ì œê°€ ìƒê¸¸ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì™ ë§Œí•˜ë©´ í† í”½ ì§€ì • ë…¹í™”ë¥¼ ì‚¬ìš©í•˜ê¸°ë¥¼ ê¶Œì¥í•©ë‹ˆë‹¤. ì‚¬ìš© ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 bag record -a
</code></pre></div></div>

<h2 id="ros2-bag-info">ros2 bag info</h2>
<p>bag íŒŒì¼ ì •ë³´ë¥¼ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ìš© ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 bag info &lt;bag íŒŒì¼ ì´ë¦„&gt;
</code></pre></div></div>
<p>ì˜ˆì‹œë¡œì„œ ìœ„ì—ì„œ ìƒì„±í–ˆë˜ <code class="language-plaintext highlighter-rouge">subset.bag</code> íŒŒì¼ì˜ infoë¥¼ ë´…ì‹œë‹¤.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ros2 bag info &lt;subset.bag&gt;
Files:             subset.db3
Bag size:          228.5 KiB
Storage id:        sqlite3
Duration:          48.47s
Start:             Oct 11 2019 06:09:09.12 (1570799349.12)
End                Oct 11 2019 06:09:57.60 (1570799397.60)
Messages:          3013
Topic information: Topic: /turtle1/cmd_vel | Type: geometry_msgs/msg/Twist | Count: 9 | Serialization Format: cdr
                 Topic: /turtle1/pose | Type: turtlesim/msg/Pose | Count: 3004 | Serialization Format: cdr
</code></pre></div></div>

<h2 id="ros2-bag-play">ros2 bag play</h2>
<p>ì§€ì •í•œ bag íŒŒì¼ì„ ì¬ìƒí•©ë‹ˆë‹¤. ì‚¬ìš© ë°©ë²•ì€ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ros2 bag play &lt;bag íŒŒì¼ ì´ë¦„&gt;
</code></pre></div></div>
<p>ì˜ˆì‹œë¡œ ìœ„ì—ì„œ ìƒì„±í–ˆë˜ <code class="language-plaintext highlighter-rouge">subset.bag</code> íŒŒì¼ì„ ì¬ìƒí•´ ë´…ì‹œë‹¤.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ ros2 bag play subset
[INFO] [rosbag2_storage]: Opened database 'subset'.
</code></pre></div></div>
<p>í„°í‹€ì‹¬ì´ ì´ì „ì— ë…¹í™”í–ˆë˜ ê²½ë¡œëŒ€ë¡œ ì›€ì§ì…ë‹ˆë‹¤.
<img src="https://index.ros.org/doc/ros2/_images/playback.png" alt="playbag" /> {: width:â€70%â€ height:â€70%â€}</p>

<p>ê²Œë‹¤ê°€ bag íŒŒì¼ì´ ì¬ìƒë˜ê³  ìˆì„ ë•Œ í† í”½ë„ ìƒì„±ë˜ë¯€ë¡œ <code class="language-plaintext highlighter-rouge">ros2 topic echo</code> ëª…ë ¹ì–´ë¥¼ ì´ìš©í•˜ì—¬ í† í”½ ë‚´ìš©ë„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

<h1 id="ë§ˆë¬´ë¦¬">ë§ˆë¬´ë¦¬</h1>
<p>ROS2 beginner ì²«ë²ˆì§¸ íŒŒíŠ¸ì˜ ë‚´ìš©ì´ ë§ˆë¬´ë¦¬ë˜ì–´ ê°‘ë‹ˆë‹¤. ì´ì œ workspaceì™€ package, nodeë¥¼ ì§ì ‘ ë§Œë“¤ì–´ë³´ëŠ” ë‚´ìš©ì„ ê³µë¶€í•  ì˜ˆì •ì…ë‹ˆë‹¤.</p>

<h1 id="ì°¸ê³ -ì‚¬ì´íŠ¸">ì°¸ê³  ì‚¬ì´íŠ¸</h1>
<p><a href="https://index.ros.org/doc/ros2/Tutorials/Ros2bag/Recording-And-Playing-Back-Data/">ROS Index-ROS2 íŠœí† ë¦¬ì–¼ bagí¸</a></p>

:ET